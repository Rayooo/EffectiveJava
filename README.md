# Effective Java

### 创建和销毁对象
1.考虑用静态工厂方法代替构造器

2.遇到多个构造器参数时要考虑用构建器(Builder模式)

3.用私有构造器或者枚举类型强化Singleton属性

4.通过私有构造器强化不可实例化的能力(private的构造器并且抛出异常)

5.避免创建不必要的对象

6.消除过期的对象引用(注意内存泄漏的问题，只要是类自己管理内存，就应该警惕内存泄漏的问题。内存泄漏的另一个常见来源是缓存。第三个常见来源是监听器和其他回调)

7.避免使用终结方法(finalizer,终结方法不能保证会被及时地执行)

### 对于所有对象都通用的方法

8.覆盖equals时请遵守通用规定

-   类的每个实例本质上都是唯一的
-   不关心类是否提供了逻辑相等(logical equality)的测试功能
-   超类已经覆盖了equals，从超类继承过来的行为对于子类也是合适的
-   类是私有的或是包级私有的，可以确定它的equals方法永远不会被调用


实现高质量的equals

-   使用==检查“参数是否为这个对象的引用”
-   使用instanceof操作符检查参数是否为正确的类型
-   把参数转换成正确的类型
-   对于该类中的每个关键域，检查参数中的域是否与该对象中对应的域相匹配
-   编写完equals后，检查对称性，传递性，一致性
-   覆盖equals时总要覆盖hashCode
-   不要企图让equals方法过于智能
-   不要将equals声明中的object对象替换成其他类型

9.覆盖equals时总要覆盖hashCode(如果不这样，违反了Object.hashCode的通用规定，从而导致该类无法结合所有基于散列的集合一起正常工作，包括HashMap，HashSet，HashTable。相等的对象必须具有相等的散列码)

10.始终要覆盖toString(返回对象中所有值得被关注的信息)





